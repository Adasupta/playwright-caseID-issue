# EPIQDiscovery Automation Process

## Prerequisites:

**Node.js Version**: Ensure Node.js version 10 or above (preferably 22.16) is installed on your machine. You can download and install it from the [Node.js official website](https://nodejs.org/en).
**Visual Studio**: Editor to work on scripts locally.
**Git Access to Repo**: Request to Automation team for repo access

## Clone the Repository from GIT:
 
 [Automation code Repo](https://github.com/Epiq-LS/EpiqDiscovery-AutomationPlaywright/tree/master)
 
   <li>Branch - Switch to Master
   <li>Open the cloned repo in Visual Studio or any other editor<br>
   <li>Create a branch to work on the repo.<br>
   <li>Open a Terminal and run the command - **npm install** (command used to install all the dependencies listed in your project's package.json file)


## Framework (folder structure):
<u>**Folders:**</u><br>
**node_modules** : Folder contains all the dependencies listed in package.json <br>
**functions**: The functions folder will have .js files containing element properties and methods specific to the module (client.js, project.js etc)<br>
<li>for example - <b>client.js:</b> will have all the element properties alongw with reusable code at client module level.
<li>All the common reusable code across the project is added along with <b>utilities.js</b> file.<br>
**tests**: Actual Tests ending with (scriptName).spec.js files<br><br>

**Files that get added along with Root:**<br>
1. All the environment variables captured along with <b>.env.perf, .env.dev, .env.qa, .env.uat etc.</b>
2. <b>package-lock.json:</b> File generated by npm (Node Package Manager) to record the exact versions of all installed dependencies, including sub-dependencies, for a project
3. <b>package.json:</b> File has all the dependencies listed along with versions
4. <b>playwright.config.js:</b>file is the central configuration file for Playwright Test, where you define global settings and project-specific configurations for your automated tests.

## Reusable components
<table border=1>
<tr><td><b>File Name</b></td><td><b>Function</b></td><td><b>Description</b></td></tr>

<tr><td>utility.js</td><td>searchEntity</td><td>To search project/client based on the passed parameter value</td></tr>
<tr><td>utility.js</td><td>getToastMessageLocator</td><td>Validate the Toast message</td></tr>
getToastMessageLocator
<tr><td>project.js</td><td>generateProjectName</td><td>This function helps to generate random project name</td></tr>
<tr><td>project.js</td><td>createProject</td><td>This function helps to create a project</td></tr>
<tr><td>project.js</td><td>clickProjectInfoButton</td><td>This function helps to validate the project info</td></tr>
<tr><td>project.js</td><td>clickProjectLeftPanel</td><td>helps to click on the Project left panel items</td></tr>
<tr><td>project.js</td><td>clickOverviewPanel</td><td>To click the OverviewPanel items</td></tr>
<tr><td>project.js</td><td>createCustodianWithFirstNameLastName</td><td>To create custodian with the given first and last name</td></tr>
<tr><td>project.js</td><td>verifyH3Displayed</td><td>To verify expected "Create New Project" is displayed</td></tr>
</table>
 

## Run Tests Locally
There are two ways of running the scripts **Headless** and **Headed** mode<br>
Use the below commands to run in Terminal <br>
<li> $env:testEnv="uat" (change the env qa/dev as needed) <br>
Command to execute single file - 
<li> **npx playwright test tests/project.spec.js headed**(change the spec file you wish to run)<br>
<br>

<b>Command to execute<b>
<p align="center">
  <img src="./assets/images/commandexecuteheaded.png" alt="Example Image" />
</p>
<br>

<b>Playwright Tests Window<b>
<p align="center">
  <img src="./assets/images/PlaywrightTestwindow.png" alt="Example Image" />
</p>

<b>Note:</b> You can either select single test to execute or Run all the tests.
<br>
<br>








## Run Tests from Jenkins

